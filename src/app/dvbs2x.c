#include "dvbs2x.h"
#include "platform_drivers.h"
#include "system.h"
#include "parameters.h"

#define DVBS_2x_MOD_BASE		0x6000
void dvbs2x_init()
{
	//0x6008 <= X"00000233";
	IOWR_32DIRECT(DVBS_2x_MOD_BASE, 8, 0x023);
	
	//0x600C <= X"05355555";
	IOWR_32DIRECT(DVBS_2x_MOD_BASE, 0x0c, 0x05355555);		// 2^30 * 10 / 122.88

	//0x6018 <= X"00000002";
	IOWR_32DIRECT(DVBS_2x_MOD_BASE, 0x18, 0x2);

	//0x6020 <= X"00000000";
	IOWR_32DIRECT(DVBS_2x_MOD_BASE, 0x20, 0x00);

	//0x6024 <= X"00535555";
	IOWR_32DIRECT(DVBS_2x_MOD_BASE, 0x24, 0x00535555);

	//0x6038 <= X"00002000";
	IOWR_32DIRECT(DVBS_2x_MOD_BASE, 0x38, 0x00004000);

	//0x603C <= X"00000101";
	IOWR_32DIRECT(DVBS_2x_MOD_BASE, 0x3c, 0x101);

	//0x6008 <= X"00000232";
	IOWR_32DIRECT(DVBS_2x_MOD_BASE, 0x8, 0x022);

	//0x6450 <= X"01000004";
	IOWR_32DIRECT(DVBS_2x_MOD_BASE, 0x450, 0x01000070);
}